---

- name: Raspberry config
  hosts: raspberry
  vars_prompt:
    - name: ansible_become_pass
      prompt: "Enter the admin user password"
      private: yes
      unsafe: yes
  become: yes
  become_user: root
  become_method: sudo
  remote_user: "{{ admin_username }}"
  roles:
    - role: init
      tags: [ init ]

    - role: sshd
      tags: [ security, sshd ]
    - role: nftables
      tags: [ security, nftables ]

    - role: unbound
      tags: [ services, unbound ]
    - role: nginx
      tags: [ services, nginx ]
